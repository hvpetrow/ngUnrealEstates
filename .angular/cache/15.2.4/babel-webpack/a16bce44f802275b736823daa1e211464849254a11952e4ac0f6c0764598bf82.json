{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nexport class CrudService {\n  constructor(db) {\n    this.db = db;\n  }\n  addEstate(estate) {\n    this.estatesRef.push({\n      firstName: estate.firstName,\n      lastName: estate.lastName,\n      email: estate.email\n    });\n  }\n  // Fetch Single estate Object\n  getEstate(id) {\n    this.estateRef = this.db.doc('estates/' + id);\n    return this.estateRef.valueChanges();\n  }\n  // Fetch estates List\n  getEstateList() {\n    // this.estatesRef = this.db.list('estates');\n    // console.log(this.estatesRef.valueChanges().subscribe(data => console.log(data)\n    // ));\n    // return this.estatesRef;\n    return this.estatesRef = this.db.collection('estates').snapshotChanges();\n  }\n  // Update estate Object\n  updateEstate(estate) {\n    this.estateRef.update({\n      firstName: estate.firstName,\n      lastName: estate.lastName,\n      email: estate.email\n    });\n  }\n  // Delete estate Object\n  deleteEstate(id) {\n    this.estateRef = this.db.object('estates/' + id);\n    this.estateRef.remove();\n  }\n}\nCrudService.ɵfac = function CrudService_Factory(t) {\n  return new (t || CrudService)(i0.ɵɵinject(i1.AngularFirestore));\n};\nCrudService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CrudService,\n  factory: CrudService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAaA,OAAM,MAAOA,WAAW;EAItBC,YAAoBC,EAAoB;IAApB,OAAE,GAAFA,EAAE;EAAsB;EAE5CC,SAAS,CAACC,MAAc;IACtB,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC;MACnBC,SAAS,EAAEH,MAAM,CAACG,SAAS;MAC3BC,QAAQ,EAAEJ,MAAM,CAACI,QAAQ;MACzBC,KAAK,EAAEL,MAAM,CAACK;KACf,CAAC;EACJ;EACA;EACAC,SAAS,CAACC,EAAU;IAClB,IAAI,CAACC,SAAS,GAAG,IAAI,CAACV,EAAE,CAACW,GAAG,CAAC,UAAU,GAAGF,EAAE,CAAC;IAC7C,OAAO,IAAI,CAACC,SAAS,CAACE,YAAY,EAAE;EACtC;EACA;EACAC,aAAa;IACX;IACA;IACA;IAEA;IACA,OAAO,IAAI,CAACV,UAAU,GAAG,IAAI,CAACH,EAAE,CAACc,UAAU,CAAC,SAAS,CAAC,CAACC,eAAe,EAAE;EAC1E;EACA;EACAC,YAAY,CAACd,MAAc;IACzB,IAAI,CAACQ,SAAS,CAACO,MAAM,CAAC;MACpBZ,SAAS,EAAEH,MAAM,CAACG,SAAS;MAC3BC,QAAQ,EAAEJ,MAAM,CAACI,QAAQ;MACzBC,KAAK,EAAEL,MAAM,CAACK;KACf,CAAC;EACJ;EACA;EACAW,YAAY,CAACT,EAAU;IACrB,IAAI,CAACC,SAAS,GAAG,IAAI,CAACV,EAAE,CAACmB,MAAM,CAAC,UAAU,GAAGV,EAAE,CAAC;IAChD,IAAI,CAACC,SAAS,CAACU,MAAM,EAAE;EACzB;;AAvCWtB,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAuB,SAAXvB,WAAW;EAAAwB,YAFV;AAAM","names":["CrudService","constructor","db","addEstate","estate","estatesRef","push","firstName","lastName","email","getEstate","id","estateRef","doc","valueChanges","getEstateList","collection","snapshotChanges","updateEstate","update","deleteEstate","object","remove","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\SoftwareUniProjectsRepository\\ngEstates\\ngEstates\\src\\app\\shared\\crud.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  AngularFireDatabase,\n  AngularFireList,\n  AngularFireObject,\n} from '@angular/fire/compat/database';\nimport { Estate } from './estate';\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/compat/firestore';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CrudService {\n  estatesRef!: Observable<any[]>;\n  estateRef!: AngularFirestoreDocument<any>;\n\n  constructor(private db: AngularFirestore) { }\n\n  addEstate(estate: Estate) {\n    this.estatesRef.push({\n      firstName: estate.firstName,\n      lastName: estate.lastName,\n      email: estate.email,\n    });\n  }\n  // Fetch Single estate Object\n  getEstate(id: string) {\n    this.estateRef = this.db.doc('estates/' + id);\n    return this.estateRef.valueChanges();\n  }\n  // Fetch estates List\n  getEstateList() {\n    // this.estatesRef = this.db.list('estates');\n    // console.log(this.estatesRef.valueChanges().subscribe(data => console.log(data)\n    // ));\n\n    // return this.estatesRef;\n    return this.estatesRef = this.db.collection('estates').snapshotChanges();\n  }\n  // Update estate Object\n  updateEstate(estate: Estate) {\n    this.estateRef.update({\n      firstName: estate.firstName,\n      lastName: estate.lastName,\n      email: estate.email,\n    });\n  }\n  // Delete estate Object\n  deleteEstate(id: string) {\n    this.estateRef = this.db.object('estates/' + id);\n    this.estateRef.remove();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}